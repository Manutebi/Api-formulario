<!DOCTYPE html>
<html>
  <head>
    <title>Mostrando opciones de un campo single select de Airtable</title>
  </head>
  <body>
    <h1>Opciones del campo single select</h1>
    <select id="single-select-field"></select>

    <script>
      const apiKey = 'keykY5YjFxN23izT6';
      const baseName = 'Productos';
      const tableName = 'Productos';
      const singleSelectFieldName = 'Opciones';

      const url = `https://api.airtable.com/v0/${apiKey}/${baseName}/${tableName}`;

      fetch(url, {
        headers: {
          Authorization: `Bearer ${apiKey}`,
        },
      })
        .then((response) => response.json())
        .then((data) => {
          const fields = data.fields;
          const singleSelectField = fields.find((field) => field.name === singleSelectFieldName);
          const metadata = singleSelectField.typeOptions.choices;

          const selectElement = document.getElementById('single-select-field');

          metadata.forEach((option) => {
            const optionElement = document.createElement('option');
            optionElement.value = option.id;
            optionElement.text = option.name;
            selectElement.appendChild(optionElement);
          });
        })
        .catch((error) => console.error(error));
    </script>
  </body>
</html>
